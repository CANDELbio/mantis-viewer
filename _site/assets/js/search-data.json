{
  
  "0": {
    "title": "",
    "content": "404 . Page not found :( . The requested page could not be found. .",
    "url": "https://candelbio.github.io/mantis-viewer/404.html",
    "relUrl": "/404.html"
  }
  ,"1": {
    "title": "About",
    "content": "Mantis Viewer is distributed under an Apache 2 license. . It is built and supported by the Parker Institute for Cancer Immunotherapy. . You can find the source code for Mantis Viewer on GitHub .",
    "url": "https://candelbio.github.io/mantis-viewer/about/",
    "relUrl": "/about/"
  }
  ,"2": {
    "title": "Exporting Data",
    "content": "Overview . Mantis Viewer supports exporting to a variety of data formats. The export functionality of Mantis can be accessed from Export submenu in the main menu. . .",
    "url": "https://candelbio.github.io/mantis-viewer/exporting_data/",
    "relUrl": "/exporting_data/"
  }
  ,"3": {
    "title": "Exporting the Current Image",
    "content": "Exporting the Current Image with Layers . Mantis supports exporting the current image as displayed on the renderer. You can export the current image with layers from the main menu by selecting Export then Image and Layers to PNG. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/exporting_data/exporting_image.html",
    "relUrl": "/docs/exporting_data/exporting_image.html"
  }
  ,"4": {
    "title": "Exporting Populations",
    "content": "Exporting Populations to CSV . Mantis supports exporting populations to CSVs for use in other applications. You can export the populations stored in Mantis by navigating to the main menu and then selecting Export followed by Populations and finally For active image from CSV or For project from single CSV. Note that these menu item will be disabled unless segmentation data has been loaded for the currently active image. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/exporting_data/exporting_populations.html",
    "relUrl": "/docs/exporting_data/exporting_populations.html"
  }
  ,"5": {
    "title": "Exporting Regions",
    "content": "Exporting Regions to a TIFF . Mantis supports exporting the regions selected on the image for use in other applications. You can export the regions selected on the current image to a TIFF that uses the same format for importing segmentation and region data by navigating to the main menu and then selecting Export followed by Regions to TIFF. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/exporting_data/exporting_regions.html",
    "relUrl": "/docs/exporting_data/exporting_regions.html"
  }
  ,"6": {
    "title": "Exporting Segment Statistics",
    "content": "Exporting Segment Statistics . Segment statistics are composed of any information Mantis has about the currently loaded segments. This includes segment features, centroid locations, and population membership. Mantis supports exporting segment statistics in two formats: FCS and CSV. . Exporting to FCS . Statistics about segments can be exported to FCS by selecting the main menu item Export then Segment Features to FCS and then one of the options in that submenu. You can export either the mean or median segment intensities, and you can either export to one FCS for the active image or to multiple FCS files for all open images. The FCS file format does not have the concept of populations or subpopulations, but Mantis supports exporting the selected populations to FCS files by exporting each population to its own FCS file. . Exporting to CSV . Statistics about segments can be exported to CSV by selecting the main menu item Export then Segment Features to CSV and then one of the options in that submenu. You can export either the mean or median segment intensities, and you can either export to one CSV for the active image or to multiple CSVs for all open images. When exporting to CSV you will get the mean or median segment intensity, the X and Y coordinates of the segment centroid, and any populations the segment belongs to. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/exporting_data/exporting_segment_statistics.html",
    "relUrl": "/docs/exporting_data/exporting_segment_statistics.html"
  }
  ,"7": {
    "title": "Generating Segmentation Data",
    "content": "Generating Segmentation Data . The Parker Institute for Cancer Immunotherapy does not currently provide any tools for generating segmentation data. We are currently working with our member labs to develop publicly available tools, and we will update this section when they are released. In the interim, you can use CellProfiler to generate segmentation data. . You can download our example segmentation pipeline if you’ve never used CellProfiler before and want an example to get you started. If you already have a segmentation pipleine built in CellProfiler you can make the following modifications to export the results in a format that Mantis accepts. . First, you will add a ConvertObjectsToImage module and select the output of your final segmentation module as the input and uint16 as the color format. . . Finally, you will add a SaveImages module to save the image generated in the ConvertObjectsToImage module and to make sure that the image bit depth is set to 16-bit integer. . . The output from the SaveImages module will be in the TIFF format described in importing segmentation and region data. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/segmentation/generating_segmentation.html",
    "relUrl": "/docs/segmentation/generating_segmentation.html"
  }
  ,"8": {
    "title": "Opening and Interacting with Images",
    "content": "Overview . Mantis Viewer allows users to load and analyze images composed of multiple grayscale layers or markers. Mantis supports loading these grayscale layers from TIFF files, each of which should contain one or multiple greyscale layers from a tissue slide. The below animation gives a brief overview of opening an image and interacting with the channel and image controls. See below for detailed instructions. .",
    "url": "https://candelbio.github.io/mantis-viewer/images/",
    "relUrl": "/images/"
  }
  ,"9": {
    "title": "Importing Data",
    "content": "Overview . Mantis Viewer supports importing from a variety of data formats. The import functionality of Mantis can be accessed from the main menu in the Import submenu. . .",
    "url": "https://candelbio.github.io/mantis-viewer/importing_data/",
    "relUrl": "/importing_data/"
  }
  ,"10": {
    "title": "Importing Populations",
    "content": "Importing Populations from CSV . Mantis supports importing populations from CSVs. You can either select a CSV to import from when setting up a new project or you can select a CSV to import with the main menu. To import populations from the main menu, navigate to Import then Populations then For active image from CSV or For project from single CSV. Note that these menu item will be disabled unless segmentation data has been loaded for the currently active image. . When importing populations for a project Mantis expects a CSV file with no header. Each row should be of the format image_folder_name, segment_id, population_name. For example, here are a few rows from a valid project CSV file: . image_one,220,CD4 High Cells image_one,707,CD4 High Cells image_one,220,CD8 High Cells image_two,77,CD8 High Cells image_two,140,CD8 High Cells . When importing populations for a single image Mantis expects a similarly formatted CSV. The main difference is that image_folder_name is not included. Instead, each row should be of the format segment_id, population_name. For example, here are a few rows from a valid image CSV file: . 220,CD4 High Cells 707,CD4 High Cells 220,CD8 High Cells 77,CD8 High Cells 140,CD8 High Cells .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/importing_data/importing_populations.html",
    "relUrl": "/docs/importing_data/importing_populations.html"
  }
  ,"11": {
    "title": "Importing Segment Features",
    "content": "Importing Segment Features from CSV . Segment features are numerical statistics that describe individual segments (e.g. cell size, or the mean or median pixel intensity for a marker or channel). You can select a CSV to import when setting up a new project or from the main menu. To import segment features from the main menu, navigate to Import then Segment Features and finally For active image from CSV or For project from single CSV . Note that these menu item will be disabled unless segmentation data has been loaded for the currently active image. . When importing segment features for a project Mantis expects the CSV file to have a header. The first column should contain the image folder name (the values in this column should match the folder names), the second column should contain segment/cell ids, and any remaining columns should contain cell/segment features. Mantis doesn’t use the column names/headers for the image folder name column or the segment/cell id column, but for the remaining columns Mantis uses the column name as the cell/segment feature name. For example, here are a few rows from a valid project CSV file: . Image Folder Name, Segment ID, Cell Size, CD4 Intensity set_one,220,1.23,3.45 set_one,707,2.34,4.32 set_two,77,4.45,5.43 set_two,140,6.54,7.68 . When importing populations for a single image Mantis expects a similarly formatted CSV. The main difference is that first column (image folder name) is not included when importing for a single image. For example, here are a few rows from a valid image CSV file: . Segment ID, Cell Size, CD4 Intensity 220,1.23,3.45 707,2.34,4.32 77,4.45,5.43 140,6.54,7.68 .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/importing_data/importing_segment_features.html",
    "relUrl": "/docs/importing_data/importing_segment_features.html"
  }
  ,"12": {
    "title": "Importing Segmentation and Region Data",
    "content": "Importing Segmentation and Region Data . Mantis supports importing segmentation data from TIFFs or TXT/CSV files and region data from TIFFs. You can set project wide segmentation and region files when opening a new project, or you can import segmentation and region data by navigating to the Import submenu in the main menu and then selecting Segmentation or Regions from TIFF. . TIFF Format . For the TIFF format, Mantis expects the data to be stored as a TIFF where pixels belonging to a segment or region have a unique numerical id as their value (e.g. all of the pixels belonging to first segment or region have the value of 1, all of the pixels belonging to the second segment or region have a value of 2, etc.), and where pixels not belonging to a segment or region have a 0 value. . TXT/CSV Format . The TXT/CSV format is only supported for importing segmentation. For the TXT/CSV format, Mantis expects the segmentation data to be stored in a TXT or CSV file where each row contains a comma separated list of all of the X and Y values belonging to a segment (e.g. row 1 in the file contains all of the X and Y coordinates for the first segment in the format X,Y,X,Y,…). .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/importing_data/importing_segmentation_region.html",
    "relUrl": "/docs/importing_data/importing_segmentation_region.html"
  }
  ,"13": {
    "title": "Introduction",
    "content": "Overview . Mantis Viewer is an application developed by the Parker Institute for Cancer Immunotherapy for viewing and analyzing multi-channel pathology imaging, such as IHC, Vectra, MIBI, IMC, CODEX, or other technologies. It has been designed to be highly performant and responsive when analyzing both large and small images and to support workflows with segmentation data. . Downloading and Installing . You can download the current stable version of Mantis Viewer from the latest release page on our GitHub. If you’re interested in being a beta tester you can download pre-releases from the list of releases on our GitHub. We provide a dmg for installing on Macs, an exe installer for installing on Windows, an AppImage for installing on Linux, and the source code in case you’d like to build the application. Once you’ve downloaded the appropriate file for your operating system, open the file and install the application. Once you have installed the application, head on over to opening and interacting with images to learn how to use it! . Support and Discussion . Mantis users can find support and discussion on the image.sc forums. Make sure to add the mantis tag any posts that you make about Mantis to make sure the right people see it. You can also include an @rj3d mention if you want to get the lead developer of Mantis involved in the conversation. . Mailing List . You can use the form below if you’d like to join our mailing list and be notified of new versions of Mantis when they’re released. . Email Address Cite Us . Please cite Mantis Viewer using the following citation: . Robert Schiemann, Pier Federico Gherardini, Robin Kageyama, Mike Travers, &amp; Lacey Kitch. Mantis Viewer. Zenodo. http://doi.org/10.5281/zenodo.4009579 . You may also cite the specific version of Mantis that you used instead if you wish. You can get citations for specific versions on the Mantis Viewer Zenodo Page . License, Bugs, and Contributing . Mantis Viewer is distributed under an Apache 2 license. Check out the Mantis Viewer GitHub page if you have a bug to report or if you are interested in adding features to Mantis. .",
    "url": "https://candelbio.github.io/mantis-viewer/",
    "relUrl": "/"
  }
  ,"14": {
    "title": "Interacting with Images",
    "content": "Interacting with Images . Channel Controls . Once an image or project has been selected Mantis will load the Channel Controls. Mantis will automatically choose markers to be displayed for the channels on the first load. Automatic marker selection behavior can be configured in preferences. Mantis will automatically reload the last selected markers, brightness settings, and visibility settings on subsequent loads. . . If you wish to change the marker selected for a channel you can click on the dropdown and select a new channel. If you wish to clear a channel you can click the x on the channel select dropdown. . You can adjust the brightness of a channel by changing the min and max values on the slider below the channel dropdown. The min and max values are set using the pixel intensities from the channel’s TIFF. Brightness adjustments are achieved by means of a linear transform. . You can quickly toggle the visibility of a channel by clicking on the eye icon next to the brightness slider. . Image Controls . Other image controls that do not affect the channels can be accessed by clicking on the button Show Image Controls. . . From the Image Controls you can perform the following tasks: . Toggle the presence of a zoom inset indicator. | Add a legend on the image that indicates which markers are currently visible and the channels they are selected for. | Add information about populations to the legend. | Add information about segment features for any segments that are moused over. | Adjust segmentation outline and fill alpha once segmentation data has been loaded. | Clear segmentation data. | . Switching Between Images . If you have loaded a project you can switch between the images in the project by using the dropdown under the title Selected Image, by using the arrows to the right of the dropdown, or by using the keyboard shortcut Alt + Left or Right or Command/Windows + Left or Right. . . When switching between images the application will automatically copy the selected markers, brightness and visibility settings, and plot settings from image to image. . Full Screen . You can full screen the image by using the keyboard shortcut Alt + F or Command/Windows + F. You can exit full screen mode by pressing escape. . Selecting Regions and Populations . You can select regions on the image or populations (once segmentation data has been loaded) by pressing Alt or Command/Windows and holding the left mouse button and outlining the region on the image. You can read more about populations in the Populations page .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/images/interacting.html",
    "relUrl": "/docs/images/interacting.html"
  }
  ,"15": {
    "title": "Opening Images and Projects",
    "content": "Opening Images . When you first load the application you should see a blank screen with a few unpopulated controls. Click the menu item named mantis-viewer, and then select Open. . . In the Open submenu you should see option for New Project, Existing Project and Image, which represent the two ways of working with Mantis. If you just want to look at a single slide or ROI you can choose to import an image. If you want to analyze and compare multiple images you can chose to open a new project. . For an image Mantis expects one folder with a single multi-page TIFF or multiple single-page TIFFs (one per marker). If you have multiple images from many slides or ROIs, you can import a project. For a project, Mantis expects expects a folder containing multiple images. See the below screenshot for an example file structure of a project with detailed view of one of the contained images. . . When you open a new project Mantis will open a popup (shown below) that will walk you through setting up the project. If you’ve already gone through the import process you can bypass it by choosing to open the project as an existing project. . . When importing a new project, Mantis will first ask you to select the root directory of the project you would like to import. Once you’ve selected the root directory, Mantis will automatically select a representative image for the rest of the process, but you can change the representative image if you need to. . The image subdirectory dropdown will be populated with any directories that are present within the representative image folder. It allows you to choose a directory within your representative image that stores all of the marker TIFFs. If unselected, Mantis will load all TIFFs from the root of each image folder. If you do select an image subdirectory all of the image folders in the project must have the same image subdirectory folder name. . The region file and segmentation file dropdowns will be enabled and populated with files from the representative image folder. You can read more about the formats that Mantis accepts for region and segmentation files on the importing segmentation and region data page. . The dropdowns following the segmentation file dropdown will only be enabled if a file is selected for the segmentation dropdown. . Once enabled, the project segment features file and populations file dropdowns will be populated with CSV files from the root project directory. The image segment features file dropdown will bepopulated with CSV files from the representative image folder. You can read more about the formats that Mantis accepts for segment features and population files on the importing segment features and importing populations pages. . Once enabled, the calculate segment features dropdown will allow you to chose if Mantis will generate segment features as each image loads or for the whole project or if it will skip generating features. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/images/opening_images.html",
    "relUrl": "/docs/images/opening_images.html"
  }
  ,"16": {
    "title": "Plots",
    "content": "Overview . Mantis Viewer can generate plots of any segment features that have been calculated or imported. Segmentation data must be loaded and segment features must be present for Mantis to generate plots. The following animation gives a brief overview of generating and interacting with plots in Mantis. See below for more detailed instructions. . Basic Plotting in Mantis . Once segmentation data has been loaded you can access plots by clicking the Show Plot Pane button or by selecting the Pop-out Plot Window entry in the View menu. . . When you first load the plot view you should see a blank view with a dropdown that says Select plot markers.... If you do not see any options when you click on the dropdown it means that segment features have not been calculated or imported. . . Click the field and start typing marker names. Once you’ve selected two different channels you should be shown a scatter plot comparing the intensities for each segment. . . Configuring Plots . You can click the Controls button to the right of the marker selection field to change the type of plot, the plot statistic used, how the data is normalized, the size of dots on the plot, whether or not data from all images is shown, if the data is downsampled, or plotting the data on a log scale. . . Mantis is able to generate scatter plots, contour plots, histograms, and heatmaps. For heatmaps, Mantis can summarize the data using a mean or median calculation, and it can normalize per marker or per population. . Mantis can apply a Log or ArcSinh transformation with a user supplied coefficient to the data prior to plotting. . If you have loaded segment features for a project, Mantis is able to plot segment features for all images in a project. When plotting all segment features in a project, you can plot them per image or have all of the features from non-active images collapsed into one group. . Mantis allows you to downsample the number of segments displayed on the plot. This is useful when the plot is slowed down or difficult to interpret due to a large number of data points. . Selecting Populations from the Plot . You can select populations in the plot to view on the image or in other plots by using the lasso select or the box select tools. . . Selecting populations is disabled when plot data is downsampled due to technical limitations with the plotting library. . You can read more about populations on the populations page .",
    "url": "https://candelbio.github.io/mantis-viewer/plots/",
    "relUrl": "/plots/"
  }
  ,"17": {
    "title": "Populations and Selected Regions",
    "content": "Overview . Mantis Viewer allows users to select and store populations for further analysis. There are three ways to select populations in Mantis. . On the image: . From the graph: . Or from a segment feature range: . . See below for detailed instructions on how to select populations in Mantis. . Selecting Regions or Populations . You can select a region on the image by pressing Alt or Command/Windows and holding the left mouse button and outlining the region on the image. Once a region is selected on the image, Mantis will automatically create a population with all of the segments contained in the region. . You can select populations in the plot to view on the image or in other plots by using the lasso select or the box select tools. Selecting populations is disabled when plot data is downsampled due to technical limitations with the plotting library. . . You can create a population by entering a comma separated list of segment IDs or by selecting a range of segment feature value by clicking the plus button on the top right of the selected populations table. . . Once you’ve selected a population on the image or in a plot it will be shown in the list of selected populations to the right of the image. From the list of selected populations you can change the name (by clicking on the name), change the display color (by clicking on the colored square), toggle display on the image, or delete a selected population. . . If segmentation data has been loaded the segments contained in regions selected on the image will also be displayed on the scatter plot. You can toggle visibility of regions on the scatter plot by clicking on the colored dot next to the name in the legend. . . Importing Regions or Populations . You can also import both regions on the image and populations of segments into Mantis by navigating to the Import submenu in the main menu and then selecting or Regions from TIFF or any of the entries within the Populations submenu. . You can read more about the file formats that Mantis supports on the importing segmentation and region data or importing populations pages. .",
    "url": "https://candelbio.github.io/mantis-viewer/populations/",
    "relUrl": "/populations/"
  }
  ,"18": {
    "title": "Preferences",
    "content": "Overview . Mantis Viewer allows the user to configure some default behaviors to improve the user experience or performance of the application. You can access the Preferences window by selecting the Preferences entry in the main menu. . . Configurable Preferences . The preferences window allows you to configure the following behaviors: . The maximum number of images stored in memory | The default segmentation filename | The default brightness settings for each channel | The default marker names and their selection priority for each channel | Whether or not any marker should be selected if a default marker is not present for each channel | If Mantis should scale (or directly copy) channel brightness values when switching between images. | Whether or not pixels are blurred/smoothed | If Mantis should optimize segmentation files for quick reloading (this takes up extra disk space). | Whether or not Mantis should reload when it encounters an error | If Mantis should automatically calculate segment intensities when loading segmentation data (set on a per-project basis). | . Maximum Images Stored in Memory . When viewing a project, Mantis keeps the most recently viewed images in memory so you can quickly switch between them without having to wait for them to reload. If too many images are stored in memory then Mantis may become slow or unresponsive. However, if very few image sets are stored in memory then you will have to wait as they are reloaded. This setting allows you to tune Mantis to optimally perform on your machine. .",
    "url": "https://candelbio.github.io/mantis-viewer/preferences/",
    "relUrl": "/preferences/"
  }
  ,"19": {
    "title": "Segment Features",
    "content": "Overview . In addition to segmentation data, many of the features in Mantis also rely on segment features. Segment features are numerical statistics that describe individual segments (e.g. cell size, or the mean or median pixel intensity for a marker or channel). Mantis is able to calculate mean and median segment intensities, and you can also import custom segment features. . Calculating Segment Features . Once segmentation data has been loaded, Mantis will ask you if you want it to calculate mean and median segment intensities. If you select yes, Mantis will calculate segment area for every segment and mean and median pixel intensities for every segment and every marker or channel in the project. You can also manually calculate or recalculate the segment features for a single image or the whole project using the Calculate entry in the main menu. . . Importing Custom Segment Features . You can import custom segment features from the main menu by selecting Import then Segment Features then For active image from CSV or For project from single CSV. You can read about the CSV formats that Mantis accepts on the importing segment features page. .",
    "url": "https://candelbio.github.io/mantis-viewer/segment_features/",
    "relUrl": "/segment_features/"
  }
  ,"20": {
    "title": "Segmentation Data",
    "content": "Overview . Many of the features in Mantis rely on segmentation data. Segmentation is a process by which regions of an image are identified as cells. . Mantis is not able to generate segmentation data, but there are many publicly available methods available to segment images. If you have never generated segmentation data we recommend starting with our tutorial for generating segmentation data with CellProfiler as a starting point. . Segmentation Format . Mantis Viewer currently supports two different segmentation formats: a TIFF-based format and a TXT/CSV-based format. You can read about the formats on the importing segmentation and region data page. . Loading Segmentation Data . You can load segmentation data when loading a new project or by navigating to the opening main menu, selecting the Import menu entry, and then clicking on the Segmentation entry. . . Segmentation Display Controls . Once segmentation data has been loaded segment outlines will be overlaid on the image. You can access controls for displaying the segmentation data by clicking the button labeled Show Image Controls. Once the Image Controls have been expanded you can toggle whether or not centroids for segments are displayed, adjust the alpha of segment outlines, adjust the alpha of segment fills, and clear the segmentation data. . . Automatically Loading Segmentation Data . Mantis can be configured to automatically look for and load segmentation files when an image or project is loaded. You can configure a default segmentation filename in preferences. . Mantis can also automatically load segmentation files that do not match the default filename when switching between images in a project. To enable this behavior segmentation data files must be stored in their respective image folders and all have the same name (e.g. ./project/imageSetOne/segmentation.tif, ./project/imageSetTwo/segmentation.tif, etc.). You can enable or disable automatically loading segmentation data when switching images from the Image Controls pane. .",
    "url": "https://candelbio.github.io/mantis-viewer/segmentation/",
    "relUrl": "/segmentation/"
  }
  ,"21": {
    "title": "Supported Image Formats",
    "content": "Supported Image Formats . Mantis currently supports loading image layers from two types of TIFFs: a folder containing multiple greyscale single-page TIFFs or a folder containing one greyscale, stacked, multi-page TIFF. In the case of stacked multi-page TIFFs, each image within the TIFF must be stored within its own image file directory (IFD). Mantis does not support other types of multi-image TIFF files (such as hyperstacks), but there are plans to add support in the future. In the interim you can use image-utils to split up unsupported multi-image TIFFs into single channel TIFFs that can be analyzed by Mantis. . Marker Names . Mantis has a few different strategies for inferring marker names from the image layer files. . Mantis will first attempt to parse the ImageDescription tag for each image file directory as either an XML or a JSON string. . If parsing of the ImageDescription as XML is successful Mantis will search for an element called name within the parsed XML tree. If Mantis finds an element called name it will take the text value of the name element and use that value as the marker name. . If parsing of the ImageDescription as JSON is successful, Mantis will try to find a property named channel.target. If Mantis finds a property called channel.target it will take the text value of the channel.target property and use that value as the marker name. . Mantis will use the TIFF filename if parsing of the ImageDescription tag is unsuccessful when importing a single-page TIFF. In the case of multi-image TIFFs, Mantis will instead use the prefix Marker followed by the image file directory index as the marker name if it is unable to find a name in the ImageDescription tag. . Downsampling Images . Mantis will downsample images when either the width or the height of the image is greater than 10,000 pixels. There are plans to build support for viewing higher resolution images without downsampling in later releases. . Additional Formats . If you encounter an image that you expect to work with Mantis but doesn’t or if you need help getting your images into a format that Mantis supports feel free to create an issue on the GitHub page or send us an email at engineering@parkerici.org. .",
    "url": "https://candelbio.github.io/mantis-viewer/docs/images/supported_formats.html",
    "relUrl": "/docs/images/supported_formats.html"
  }
  
}